<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Result Checker</title>

  <!-- PWA manifest embedded -->
  <link rel="manifest" href="data:application/manifest+json,{
    &quot;name&quot;: &quot;Student Result Checker&quot;,
    &quot;short_name&quot;: &quot;ResultApp&quot;,
    &quot;start_url&quot;: &quot;.&quot;,
    &quot;display&quot;: &quot;standalone&quot;,
    &quot;background_color&quot;: &quot;#ffffff&quot;,
    &quot;theme_color&quot;: &quot;#1e3a8a&quot;,
    &quot;icons&quot;: [
      {&quot;src&quot;:&quot;https://via.placeholder.com/192.png&quot;,&quot;sizes&quot;:&quot;192x192&quot;,&quot;type&quot;:&quot;image/png&quot;},
      {&quot;src&quot;:&quot;https://via.placeholder.com/512.png&quot;,&quot;sizes&quot;:&quot;512x512&quot;,&quot;type&quot;:&quot;image/png&quot;}
    ]
  }">

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f3f4f6;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
    }
    .card {
      background: #fff;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 400px;
      text-align: center;
    }
    h1 {
      color: #1e3a8a;
      margin-bottom: 1rem;
    }
    input {
      width: 100%;
      padding: 0.8rem;
      margin: 0.5rem 0;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
    }
    button {
      background: #1e3a8a;
      color: #fff;
      border: none;
      padding: 0.8rem 1.2rem;
      margin-top: 0.5rem;
      border-radius: 0.5rem;
      cursor: pointer;
      width: 100%;
    }
    button:hover { background: #0f245c; }
    .result {
      margin-top: 1rem;
      padding: 1rem;
      background: #f9fafb;
      border-radius: 0.5rem;
      text-align: left;
    }
    .error {
      color: red;
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Result Checker</h1>
    <input type="text" id="matric" placeholder="Enter Matric Number">
    <button onclick="checkResult()">Check Result</button>
    <div id="output"></div>
  </div>

  <script>
    // Offline student result "database"
    const results = {
      "CS2021001": { name: "Alice Johnson", GPA: 3.8, remark: "Excellent" },
      "CS2021002": { name: "Ben Okoro", GPA: 2.9, remark: "Good" },
      "CS2021003": { name: "Chioma Ade", GPA: 2.0, remark: "Pass" },
      "CS2021004": { name: "David Musa", GPA: 1.5, remark: "Probation" }
    };

    function checkResult() {
      const matric = document.getElementById("matric").value.trim();
      const output = document.getElementById("output");
      output.innerHTML = "";

      if(results[matric]) {
        const r = results[matric];
        output.innerHTML = `
          <div class="result">
            <strong>Name:</strong> ${r.name}<br>
            <strong>Matric No:</strong> ${matric}<br>
            <strong>GPA:</strong> ${r.GPA}<br>
            <strong>Remark:</strong> ${r.remark}
          </div>
        `;
      } else {
        output.innerHTML = `<div class="error">No result found for Matric No: ${matric}</div>`;
      }
    }

    // Self-contained service worker registration
    if ("serviceWorker" in navigator) {
      const swCode = `
        const CACHE_NAME = "student-result-cache-v1";
        const urlsToCache = ["./"];

        self.addEventListener("install", e => {
          e.waitUntil(caches.open(CACHE_NAME).then(cache => cache.addAll(urlsToCache)));
        });

        self.addEventListener("fetch", e => {
          e.respondWith(
            caches.match(e.request).then(res => res || fetch(e.request).catch(() => new Response('<h1>Offline</h1>',{headers:{'Content-Type':'text/html'}})))
          );
        });
      `;
      const blob = new Blob([swCode], { type: "application/javascript" });
      const swUrl = URL.createObjectURL(blob);
      navigator.serviceWorker.register(swUrl);
    }
  </script>
</body>
</html>
